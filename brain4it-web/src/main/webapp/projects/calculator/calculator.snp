("access-key" => "8973" "previous_value" => 0.4948660714285714 "current_value" => "" "operator" => null "dashboard" => ("widgets" => ("button_14" => ("type" => "button" "button-id" => "-" "font-family" => "arial" "font-size" => 50 "label" => "-" "on-pressed" => @operator "on-released" => null) "button_15" => ("type" => "button" "button-id" => "+" "font-family" => "arial" "font-size" => 50 "label" => "+" "on-pressed" => @operator "on-released" => null) "button_16" => ("type" => "button" "button-id" => "." "font-family" => "arial" "font-size" => 50 "label" => "." "on-pressed" => @dot "on-released" => null) "button_17" => ("type" => "button" "button-id" => "" "font-family" => "arial" "font-size" => 14 "label" => "CLEAR" "on-pressed" => @clear "on-released" => null) "button_2" => ("type" => "button" "button-id" => "8" "font-family" => "arial" "font-size" => 20 "label" => "8" "on-pressed" => @digit "on-released" => null) "button_1" => ("type" => "button" "button-id" => "7" "font-family" => "arial" "font-size" => 20 "label" => "7" "on-pressed" => @digit "on-released" => null) "button_4" => ("type" => "button" "button-id" => "4" "font-family" => "arial" "font-size" => 20 "label" => "4" "on-pressed" => @digit "on-released" => null) "button_3" => ("type" => "button" "button-id" => "9" "font-family" => "arial" "font-size" => 20 "label" => "9" "on-pressed" => @digit "on-released" => null) "display_1" => ("type" => "display" "lines" => 3 "font-family" => "monospace" "get-value" => @display) "button_9" => ("type" => "button" "button-id" => "3" "font-family" => "arial" "font-size" => 20 "label" => "3" "on-pressed" => @digit "on-released" => null) "led_1" => ("type" => "button" "font-family" => "fontawesome" "font-size" => 50 "label" => "" "on-pressed" => @delete "on-released" => null "button-id" => null) "button_6" => ("type" => "button" "button-id" => "6" "font-family" => "arial" "font-size" => 20 "label" => "6" "on-pressed" => @digit "on-released" => null) "button_10" => ("type" => "button" "button-id" => null "font-family" => "arial" "font-size" => 14 "label" => "ENTER" "on-pressed" => @enter "on-released" => null) "button_5" => ("type" => "button" "button-id" => "5" "font-family" => "arial" "font-size" => 20 "label" => "5" "on-pressed" => @digit "on-released" => null) "button_11" => ("type" => "button" "button-id" => "0" "font-family" => "arial" "font-size" => 20 "label" => "0" "on-pressed" => @digit "on-released" => null) "button_8" => ("type" => "button" "button-id" => "2" "font-family" => "arial" "font-size" => 20 "label" => "2" "on-pressed" => @digit "on-released" => null) "button_12" => ("type" => "button" "button-id" => "*" "font-family" => "arial" "font-size" => 50 "label" => "*" "on-pressed" => @operator "on-released" => null) "button_7" => ("type" => "button" "button-id" => "1" "font-family" => "arial" "font-size" => 20 "label" => "1" "on-pressed" => @digit "on-released" => null) "button_13" => ("type" => "button" "button-id" => "/" "font-family" => "arial" "font-size" => 50 "label" => "/" "on-pressed" => @operator "on-released" => null)) "layouts" => ("mobile-vertical" => ("dimensions" => (4 6) "widgets" => (("display_1" 0 0 4 1) ("button_1" 0 1 1 1) ("button_2" 1 1 1 1) ("button_3" 2 1 1 1) ("button_12" 3 1 1 1) ("button_4" 0 2 1 1) ("button_5" 1 2 1 1) ("button_6" 2 2 1 1) ("button_13" 3 2 1 1) ("button_7" 0 3 1 1) ("button_8" 1 3 1 1) ("button_9" 2 3 1 1) ("button_14" 3 3 1 1) ("button_11" 0 4 1 1) ("button_16" 1 4 1 1) ("led_1" 2 4 1 1) ("button_15" 3 4 1 1) ("button_17" 0 5 2 1) ("button_10" 2 5 2 1)))) "polling-interval" => 0) "@dashboards" => (function (context data) (list dashboard)) "@display" => (function (context data) (concat (if (= null previous_value) "" (concat previous_value "\n")) (if (= null operator) "" (concat operator "\n")) current_value)) "@digit" => (function (context digit) (set current_value (concat current_value digit)) (module-publish "@display")) "@delete" => (function (context data) (if (> (length current_value) 0) (set current_value (substring current_value 0 (- (length current_value) 1)))) (module-publish "@display")) "@enter" => (function (context data) (do_operation) (set current_value "") (set operator null) (module-publish "@display")) "@operator" => (function (context key) (do_operation) (set current_value "") (set operator (reference key)) (module-publish "@display")) "@clear" => (function (context data) (set previous_value null) (set current_value "") (set operator null) (module-publish "@display")) "@dot" => (function (context key) (if (= (locate-string current_value ".") -1) (set current_value (concat current_value key))) (module-publish "@display")) "do_operation" => (function () (if (> (length current_value) 0) (do (set current_value (number current_value)) (set previous_value (if (= null operator) current_value (if (= null previous_value) (eval (list operator current_value)) (eval (list operator previous_value current_value)))))))))