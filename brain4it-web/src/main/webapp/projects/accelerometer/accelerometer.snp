("module-metadata" => ("icon" => "sensors") "dashboard" => ("widgets" => ("graph_1" => ("type" => "graph" "get-value" => @get-value "dataset-names" => "x y z" "date-format" => "dd/MM/yyyy" "get-history" => null "label" => "Accelerometer" "max-data" => 1000 "time-range" => "20s") "switch_1" => ("type" => "switch" "get-value" => @active "label" => "Enable accelerometer data capture" "set-value" => @active)) "layouts" => ("mobile-vertical" => ("dimensions" => (4 5) "widgets" => (("graph_1" 0 0 4 4) ("switch_1" 0 4 4 1)))) "polling-interval" => 0) "@dashboards" => (function (context data) (list dashboard)) "@get-value" => (function (context data) accelerometer) "@active" => (function (context act) (if (= act null) active (if act (register_acc) (unregister_acc)))) "register_acc" => (function () (if (not active) (do (sensor "register" "accelerometer" (function (d) (set accelerometer/x d/2) (set accelerometer/y d/3) (set accelerometer/z d/4) (module-publish "@get-value"))) (set active true) (module-publish "@active")))) "unregister_acc" => (function () (if active (do (sensor "unregister" "accelerometer") (set active false) (module-publish "@active")))) "accelerometer" => ("x" => -0.061676025390625 "y" => 5.7689208984375 "z" => 8.949508666992188) "active" => false)